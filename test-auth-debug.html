
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Supabase Auth Debug</title>
  <script src="https://unpkg.com/@supabase/supabase-js"></script>
</head>
<body style="background:#000; color:#0f0; font-family:monospace; padding:40px;">
  <h1>ğŸ” Supabase ì„¸ì…˜ ìƒíƒœ ì ê²€</h1>
  <pre id="output">Loading...</pre>
  <script>
    window.addEventListener('load', async () => {
      const client = window.supabase.createClient(
        'https://wnnutjefmnuhnhevyohi.supabase.co',
        'public-anon-key'
      );
      const output = document.getElementById("output");
      const { data: sessionData, error: sessionError } = await client.auth.getSession();
      const { data: userData, error: userError } = await client.auth.getUser();
      const { data: profileData, error: profileError } = await client
        .from("users")
        .select("*")
        .eq("id", userData?.user?.id)
        .maybeSingle();
      output.innerText = `
ğŸŸ¢ Supabase ì—°ê²°ë¨
âœ… access_token: ${sessionData?.session?.access_token || 'ì—†ìŒ'}
âœ… ìœ ì € ID: ${userData?.user?.id || 'ì—†ìŒ'}
âœ… ì´ë©”ì¼: ${userData?.user?.email || 'ì—†ìŒ'}

ğŸ“¦ users í…Œì´ë¸”:
${profileData ? JSON.stringify(profileData, null, 2) : 'ì¡°íšŒ ì‹¤íŒ¨'}

â—ì˜¤ë¥˜ ì •ë³´:
sessionError: ${sessionError?.message || 'ì—†ìŒ'}
userError: ${userError?.message || 'ì—†ìŒ'}
profileError: ${profileError?.message || 'ì—†ìŒ'}
`;
    });
  </script>
</body>
</html>
